#!/usr/bin/env python

from argparse import ArgumentParser

import git

REMOTES: list[tuple[str, str]] = [
    ("lab", "git@gitlab.com"),
]


def main() -> None:
    repo: git.Repo = git.Repo()

    assert "origin" in repo.remotes
    origin_url = repo.remotes["origin"].url
    _, repo_path = origin_url.split(":")

    for name, git_url in REMOTES:
        if name in repo.remotes:
            print(f"{name} is already a remote")
        else:
            remote_url = ":".join([git_url, repo_path])
            print(f"Adding remote {name} to {remote_url}")
            repo.create_remote(name, remote_url)


if __name__ == "__main__":
    parser = ArgumentParser(description="Add additioanl remotes to git repo")
    parser.parse_args()
    main()
