#!/usr/bin/env python

import command
from argparse import ArgumentParser
from pathlib import Path


def main(path: Path) -> None:
    if not path.is_dir():
        raise Exception(f"{path} is not a valid directory")
    command.execute(f'tmux new-window -c "{path}"')


if __name__ == "__main__":
    parser = ArgumentParser(
        description="Create new named tmux window in specified directory"
    )
    parser.add_argument("path", type=Path, help="Path to open new tmux window in")
    args = parser.parse_args()
    main(args.path.absolute())
